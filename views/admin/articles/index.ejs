<%- include('../../partials/header.ejs'); %>
<%- include('../../partials/navbar.ejs'); %>

<div class="container">
    <div class="card">
        <div class="card-body">
            <blockquote class="blockquote blockquote-dark mb-0">
                <h2 class="card-title">Listagem de Artigos</h2>
                <a href="/admin/articles/new" class="btn btn-success">Novo artigo</a>
                <a href="/" class="btn btn-primary">Voltar</a>
            </blockquote>
        </div>
        <div class="table-responsive-lg">
            <table class="table table-hover">
                <thead>
                    <tr class="bg-dark text-white">
                        <th>Id</th>
                        <th>Título</th>
                        <th>Slug</th>
                        <th>Categoria</th>
                        <th class="">Ações</th>
                </thead>
                </tr>
                </thead>
                <tbody>
                    <% articles.forEach(article => { %>
                    <tr>
                        <td><%= article.id %></td>
                        <td><%= article.title %></td>
                        <td><%= article.slug %></td>
                        <td><%= article.category.title%></td>
                        <td>
                            <a href="/admin/article/edit/<%=article.id%>" class="btn btn-warning"><i
                                    class="far fa-edit"></i> Editar
                            </a>

                            <form method="POST" action="/articles/delete" style="display: inline;">
                                <input type="hidden" name="id" value="<%= article.id %>">
                                <button class="btn btn-danger"><i class="far fa-trash-alt"></i> Deletar
                                </button>
                            </form>
                        </td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>
    </div>
    </blockquote>
</div>

<%- include('../../partials/footer.ejs'); %>